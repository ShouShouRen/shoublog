---
title: Vue2-Vue3(EP.2)
date: 2023-08-08 16:03:07
tags: Vue2+Vue3
---

## Vue 按鍵指令與修飾符補充

之前我們有講過 click 現在我們來補充一些鍵盤上的事件與修飾符這邊我們就介紹 keyup 結合 enter 修飾符的用法，更多修飾符請看[https://v2.vuejs.org/v2/guide/events#Event-Modifiers](https://v2.vuejs.org/v2/guide/events#Event-Modifiers)。

<!-- more -->

- 語法：@keyup 或 v-bind:keyup
- 配合修飾符：@keyup.enter
- 範例中的方法：
  1. ff() 方法在每次鍵盤的 keyup 事件發生時都會被觸發。它會在控制台中記錄目前輸入框中的文字。
  2. fu(e) 方法在鍵盤的 keyup 事件中，只有當按下"Enter"鍵時才會被觸發。在這個方法內，使用 e.key 來判斷觸發事件的鍵是否為"Enter"，如果是的話，它會在控制台中記錄輸入框中的文字。
以下為範例：
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <title>Document</title>
  </head>

  <body>
    <div id="app">
      <input @keyup="ff" v-model="username" type="text" />
      <input @keyup.enter="fu" v-model="username" type="text" />
    </div>
    <script>
      const app = new Vue({
        el: "#app",
        data: {
          username: "",
        },
        methods: {
          ff() {
            console.log("keyup", this.username);
          },
          fu(e) {
            if (e.key === "Enter") {
              console.log("enter", this.username);
            }
          },
        },
      });
    </script>
  </body>
</html>
```

而修飾符在v-model也有這裡我們介紹比較常用的兩種一個是.trim與.number寫法與＠click差不多也是在指令後接上修飾符
- 語法：v-model.number="" v-model.trim=""
- 範例說明： 
    1. 在範例中.trim可以將使用者輸入的空白去除在綁定到username內這樣無論使用者輸入多少空白都能被過濾掉，而.number則是可以直接將使用者輸入的數字轉為數值但如果使用者輸入的是文字他並不會出現錯誤除非有額外的判斷處理
    2. 在click上可以使用修飾符這裡舉例.stop與.prevent在js裡會有冒泡事件就可以使用.stop來阻止冒泡而.prevent則是用來阻止該元素的預設行為像範例中的連結本來會跳轉但加上後可以阻止跳轉

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
  <title>Document</title>
  <style>
    .father{
      background: lightblue;
      width: 300px;
      height: 300px;
    }
    .son{
      background: lightcoral;
      width: 100px;
      height: 100px;
    }
  </style>
</head>

<body>
  <div id="app">
    <h3>v-model .trim .number</h3>
    <input v-model.trim="username" type="text">
    <input v-model.number="age" type="text">

    <div @click="fatherFn" class="father">
      <div @click.stop="sonFn" class="son"></div>
    </div>
    <a @click.prevent href="https://google.com">google</a> <!-- .prevent相當於js裡的e.preventDefault()可以阻止事件預設行為 -->
  </div>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        username: '',
        age: '',
      },
      methods: {
        fatherFn(){
          alert('father click');
        },
        sonFn(e){
          // 相當於vue得click.stop可以阻止冒泡
          // e.stopPropagation();
          alert('son click');
        },
      }
    })
  </script>
</body>

</html>
```

<hr>

## Vue 樣式綁定
寫網頁沒有樣式是不可能的事而vue提供了動態樣是可以綁定在元素上
- 語法：v-bind:class="陣列/物件"或縮寫:class="陣列/物件"
- 陣列： ```<div class="box" :class="[ 樣式名稱1, 樣式名稱2, 樣式名稱3 ]"></div>```
- 物件： ```<div class="box" :class="{ 樣式名稱1: 布林值, 樣式名稱2: 布林值 }"></div>```
```html

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
  <title>Document</title>
  <style>
    .box {
      width: 200px;
      height: 200px;
      border: 1px solid #000;
    }

    .pink {
      background-color: pink;
    }

    .big {
      width: 400px;
      height: 400px;
    }
  </style>
</head>

<body>
  <div id="app">
    <div class="box" :class="{ pink: true , big: true }"></div>
    <div class="box" :class="['pink','big']"></div>
  </div>
  <script>
    const app = new Vue({
      el: '#app',
    })
  </script>
</body>

</html>
```

執行結果：
![alt 執行解果](images/v-bind-class.png)
綜合之前學的我們使用click來做一個點擊加上樣式的功能
```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
  <title>Document</title>
  <style>
    a.active {
      background-color: red;
      color: #fff;
    }

    ul {
      display: flex;
      list-style: none;
    }

    li {
      padding: 4px;
      font-size: 18px;
    }

    a {
      display: inline-block;
      color: #000;
      text-decoration: none;
      padding: 4px;
    }
  </style>
</head>

<body>
  <div id="app">
    <ul>
      <li v-for="(list,index) in lists" :key="list.id" @click="activeIndex = index">
        <a href="#!" :class="{active:index === activeIndex}">{{ list.name }}</a>
      </li>
    </ul>
  </div>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        activeIndex: 0,
        lists: [
          { id: 1, name: 'apple' },
          { id: 2, name: 'banan' },
          { id: 3, name: 'coffee' },
        ]
      }
    })
  </script>
</body>

</html>
```